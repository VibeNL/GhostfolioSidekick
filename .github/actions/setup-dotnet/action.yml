name: 'Setup .NET Environment'
description: 'Sets up .NET SDK with WASM workload and caching'
runs:
  using: "composite"
  steps:
    - name: Setup .NET Core SDK
      uses: actions/setup-dotnet@v4
      with:
        dotnet-version: '10.0.x'

    - name: Cache NuGet packages
      uses: actions/cache@v4
      with:
        path: ~/.nuget/packages
        key: ${{ runner.os }}-nuget-${{ hashFiles('**/*.csproj', '**/*.props') }}
        restore-keys: |
          ${{ runner.os }}-nuget-

    - name: Install .NET 10 WASM workload
      shell: bash
      run: |
        dotnet workload install wasm-tools
        dotnet workload restore
